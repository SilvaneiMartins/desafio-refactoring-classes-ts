{"version":3,"sources":["components/Header/styles.ts","assets/logo.svg","components/Header/index.tsx","services/api.ts","components/Food/styles.ts","components/Food/index.tsx","components/ModalAddFood/styles.ts","components/Modal/index.tsx","components/Input/styles.ts","components/Input/index.tsx","components/ModalAddFood/index.tsx","components/ModalEditFood/styles.ts","components/ModalEditFood/index.tsx","pages/Dashboard/styles.ts","pages/Dashboard/index.tsx","routes/index.tsx","styles/global.ts","App.tsx","index.tsx"],"names":["Container","styled","div","Header","openModal","src","Logo","alt","type","onClick","className","size","api","axios","create","baseURL","props","available","css","Food","food","handleEditFood","handleDelete","useState","isAvailable","setIsAvailable","toggleAvailable","a","put","id","image","name","description","price","data-testid","htmlFor","checked","onChange","Form","Unform","Modal","isOpen","setIsOpen","children","modalStatus","setModalStatus","useEffect","shouldCloseOnOverlayClick","onRequestClose","ariaHideApp","style","content","top","left","right","bottom","marginRight","transform","background","color","borderRadius","width","border","overlay","backgroundColor","isFocused","isFilled","Input","Icon","icon","rest","inputRef","useRef","setIsFocused","setIsFilled","useField","fieldName","defaultValue","registerField","handleInputFocus","useCallback","handleInputBlur","current","value","ref","path","onFocus","onBlur","ModalAddFood","handleAddFood","handleSubmit","data","formRef","onSubmit","placeholder","ModalEditFood","handleUpdateFood","editingFood","initialData","FoodsContainer","Dashboard","foods","setFoods","setEditingFood","modalOpen","setModalOpen","editModalOpen","setEditModalOpen","post","response","console","log","get","getFoods","foodUpdated","foodsUpdated","map","f","handleDeleteFood","delete","foodsFiltered","filter","toggleModal","Routes","exact","component","createGlobalStyle","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.be2a7f83.chunk.js","sourcesContent":["import styled from 'styled-components';\n\nexport const Container = styled.div`\n  background: #c72828;\n  padding: 30px 0;\n\n  header {\n    width: 1280px;\n    margin: 0 auto;\n    padding: 0 0 160px;\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n\n    nav {\n      div {\n        button {\n          font-weight: 600;\n          border-radius: 8px;\n          border: 0;\n          background: #39b100;\n          color: #fff;\n\n          display: flex;\n          flex-direction: row;\n          align-items: center;\n\n          .text {\n            padding: 16px 24px;\n          }\n\n          .icon {\n            display: flex;\n            padding: 16px 16px;\n            background: #41c900;\n            border-radius: 0 8px 8px 0;\n            margin: 0 auto;\n          }\n        }\n      }\n    }\n  }\n`;\n","export default __webpack_public_path__ + \"static/media/logo.5ee7d69c.svg\";","import { FiPlusSquare } from 'react-icons/fi';\n\nimport { Container } from './styles';\nimport Logo from '../../assets/logo.svg';\n\ninterface HeaderProps {\n  openModal: () => void\n}\n\nexport default function Header({openModal}:HeaderProps) {\n\n  return (\n    <Container>\n      <header>\n        <img src={Logo} alt=\"GoRestaurant\" />\n        <nav>\n          <div>\n            <button\n              type=\"button\"\n              onClick={openModal}\n            >\n              <div className=\"text\">Novo Prato</div>\n              <div className=\"icon\">\n                <FiPlusSquare size={24} />\n              </div>\n            </button>\n          </div>\n        </nav>\n      </header>\n    </Container>\n  )\n}\n\n","import axios from \"axios\";\n\nconst api = axios.create({\n  baseURL: \"http://localhost:8080\",\n});\n\nexport default api;\n","import styled, { css } from 'styled-components';\n\ninterface ContainerProps {\n  available:boolean;\n}\n\nexport const Container = styled.div<ContainerProps>`\n  background: #f0f0f5;\n  border-radius: 8px;\n\n  header {\n    background: #ffb84d;\n    border-radius: 8px 8px 0px 0px;\n    height: 192px;\n    overflow: hidden;\n    transition: 0.3s opacity;\n    text-align: center;\n\n    ${props =>\n    !props.available &&\n    css`\n        opacity: 0.3;\n      `};\n\n    img {\n      pointer-events: none;\n      user-select: none;\n    }\n  }\n\n  section.body {\n    padding: 30px;\n\n    h2 {\n      color: #3d3d4d;\n    }\n\n    p {\n      color: #3d3d4d;\n\n      margin-top: 16px;\n    }\n\n    .price {\n      font-style: normal;\n      font-size: 24px;\n      line-height: 34px;\n      color: #39b100;\n\n      b {\n        font-weight: 600;\n      }\n    }\n  }\n\n  section.footer {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n\n    padding: 20px 30px;\n    background: #e4e4eb;\n    border-radius: 0px 0px 8px 8px;\n\n    div.icon-container {\n      display: flex;\n\n      button {\n        background: #fff;\n        padding: 10px;\n        border-radius: 8px;\n        display: flex;\n        border: none;\n        transition: 0.1s;\n\n        svg {\n          color: #3d3d4d;\n        }\n\n        & + button {\n          margin-left: 6px;\n        }\n      }\n    }\n\n    div.availability-container {\n      display: flex;\n      align-items: center;\n\n      p {\n        color: #3d3d4d;\n      }\n\n      .switch {\n        position: relative;\n        display: inline-block;\n        width: 88px;\n        height: 32px;\n        margin-left: 12px;\n\n        & input {\n          opacity: 0;\n          width: 0;\n          height: 0;\n        }\n\n        .slider {\n          position: absolute;\n          cursor: pointer;\n          top: 0;\n          left: 0;\n          right: 0;\n          bottom: 0;\n          background-color: #c72828;\n          -webkit-transition: 0.4s;\n          transition: 0.4s;\n          border-radius: 16px;\n\n          &:before {\n            position: absolute;\n            content: '';\n            height: 20px;\n            width: 40px;\n            left: 8px;\n            bottom: 6px;\n            background-color: white;\n            -webkit-transition: 0.4s;\n            transition: 0.4s;\n            border-radius: 10px;\n          }\n        }\n\n        input:checked + .slider {\n          background-color: #39b100;\n        }\n\n        input:focus + .slider {\n          box-shadow: 0 0 1px #2196f3;\n        }\n\n        input:checked + .slider:before {\n          -webkit-transform: translateX(32px);\n          -ms-transform: translateX(32px);\n          transform: translateX(32px);\n        }\n      }\n    }\n  }\n`;\n","\nimport { useState } from 'react';\nimport { FiEdit3, FiTrash } from 'react-icons/fi';\n\nimport { Container } from './styles';\nimport api from '../../services/api';\n\ninterface IFood {\n  id:number;\n  name:string;\n  description:string;\n  price:string;\n  available:boolean;\n  image:string;\n}\n\ninterface FoodProps {\n  food: IFood;\n  handleEditFood: (food:IFood) => void\n  handleDelete: (id:number) => void\n}\n\nexport default function Food({food, handleEditFood, handleDelete}: FoodProps) {\n  const { available } = food;\n  const [isAvailable, setIsAvailable] = useState(available)\n\n  const toggleAvailable = async () => {\n    await api.put(`/foods/${food.id}`, {\n      ...food,\n      available: !isAvailable,\n    });\n\n    setIsAvailable(!isAvailable);\n  }\n\n  const setEditingFood = () => {\n    handleEditFood(food);\n  }\n\n  return (\n    <Container available={isAvailable}>\n      <header>\n        <img src={food.image} alt={food.name} />\n      </header>\n      <section className=\"body\">\n        <h2>{food.name}</h2>\n        <p>{food.description}</p>\n        <p className=\"price\">\n          R$ <b>{food.price}</b>\n        </p>\n      </section>\n      <section className=\"footer\">\n        <div className=\"icon-container\">\n          <button\n            type=\"button\"\n            className=\"icon\"\n            onClick={setEditingFood}\n            data-testid={`edit-food-${food.id}`}\n          >\n            <FiEdit3 size={20} />\n          </button>\n\n          <button\n            type=\"button\"\n            className=\"icon\"\n            onClick={() => handleDelete(food.id)}\n            data-testid={`remove-food-${food.id}`}\n          >\n            <FiTrash size={20} />\n          </button>\n        </div>\n\n        <div className=\"availability-container\">\n          <p>{isAvailable ? 'Disponível' : 'Indisponível'}</p>\n\n          <label htmlFor={`available-switch-${food.id}`} className=\"switch\">\n            <input\n              id={`available-switch-${food.id}`}\n              type=\"checkbox\"\n              checked={isAvailable}\n              onChange={toggleAvailable}\n              data-testid={`change-status-food-${food.id}`}\n            />\n            <span className=\"slider\" />\n          </label>\n        </div>\n      </section>\n    </Container>\n  );\n\n}\n\n","import styled from 'styled-components';\nimport { Form as Unform } from '@unform/web';\n\nexport const Form = styled(Unform)`\n  padding: 48px 40px;\n  display: flex;\n  flex-direction: column;\n\n  h1 {\n    font-weight: 600;\n    font-size: 36px;\n    line-height: 36px;\n    margin-bottom: 40px;\n  }\n\n  button {\n    margin-top: 48px;\n    align-self: flex-end;\n  }\n\n  button {\n    font-weight: 600;\n    border-radius: 8px;\n    border: 0;\n    background: #39b100;\n    color: #fff;\n\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n\n    .text {\n      padding: 16px 24px;\n    }\n\n    .icon {\n      display: flex;\n      padding: 16px 16px;\n      background: #41c900;\n      border-radius: 0 8px 8px 0;\n      margin: 0 auto;\n    }\n  }\n`;\n","import { ReactNode, useEffect, useState } from 'react';\nimport ReactModal from 'react-modal';\n\ninterface ModalProps {\n  isOpen: boolean;\n  setIsOpen: () => void;\n  children: ReactNode\n}\n\nexport default function Modal({isOpen, setIsOpen, children}:ModalProps) {\n  const [modalStatus, setModalStatus] = useState(isOpen);\n\n  useEffect(() => {\n    setModalStatus(isOpen);\n  }, [isOpen]);\n\n  return (\n    <ReactModal\n      shouldCloseOnOverlayClick={!false}\n      onRequestClose={setIsOpen}\n      isOpen={modalStatus}\n      ariaHideApp={false}\n      style={{\n        content: {\n          top: '50%',\n          left: '50%',\n          right: 'auto',\n          bottom: 'auto',\n          marginRight: '-50%',\n          transform: 'translate(-50%, -50%)',\n          background: '#F0F0F5',\n          color: '#000000',\n          borderRadius: '8px',\n          width: '736px',\n          border: 'none',\n        },\n        overlay: {\n          backgroundColor: '#121214e6',\n        },\n      }}\n    >\n      {children}\n    </ReactModal>\n  );\n}\n\n","import styled, { css } from 'styled-components';\n\ninterface ContainerProps {\n  isFilled: boolean;\n  isFocused: boolean;\n}\n\nexport const Container = styled.div<ContainerProps>`\n  display: flex;\n  align-items: center;\n\n  background: #fff;\n  border-radius: 8px;\n  padding: 18px 24px;\n  width: 100%;\n  font-size: 16px;\n\n  & + div {\n    margin-top: 24px;\n  }\n\n  h1 {\n    margin-bottom: 40px;\n    font-weight: 600;\n    font-size: 36px;\n    line-height: 36px;\n  }\n\n  ${props =>\n    props.isFocused &&\n    css`\n      color: #ff9000;\n      border-color: #ff9000;\n    `}\n\n  ${props =>\n    props.isFilled &&\n    css`\n      color: #ff9000;\n    `}\n\n  input {\n    flex: 1;\n    background: transparent;\n    border: 0;\n    color: #b7b7cc;\n\n    &::placeholder {\n      color: #b7b7cc;\n    }\n  }\n\n  svg {\n    margin-right: 16px;\n  }\n`;\n","import {\n  useEffect,\n  useRef,\n  useState,\n  useCallback,\n} from 'react';\n\nimport { useField } from '@unform/core';\nimport { IconBaseProps } from 'react-icons';\n\nimport { Container } from './styles';\n\ninterface InputProps {\n  name: string;\n  placeholder?:string;\n  icon?: React.ComponentType<IconBaseProps>;\n}\n\nconst Input = ({ name, icon: Icon, ...rest }:InputProps) => {\n  const inputRef = useRef<HTMLInputElement>(null);\n\n  const [isFocused, setIsFocused] = useState(false);\n  const [isFilled, setIsFilled] = useState(false);\n\n  const { fieldName, defaultValue, registerField } = useField(name);\n\n  const handleInputFocus = useCallback(() => {\n    setIsFocused(true);\n  }, []);\n\n  const handleInputBlur = useCallback(() => {\n    setIsFocused(false);\n\n    setIsFilled(!!inputRef.current?.value);\n  }, []);\n\n  useEffect(() => {\n    registerField({\n      name: fieldName,\n      ref: inputRef.current,\n      path: 'value',\n    });\n  }, [fieldName, registerField]);\n\n  return (\n    <Container isFilled={isFilled} isFocused={isFocused}>\n      {Icon && <Icon size={20} />}\n\n      <input\n        onFocus={handleInputFocus}\n        onBlur={handleInputBlur}\n        defaultValue={defaultValue}\n        ref={inputRef}\n        {...rest}\n      />\n    </Container>\n  );\n};\n\nexport default Input;\n","import { useRef } from 'react';\nimport { FiCheckSquare } from 'react-icons/fi';\n\nimport { Form } from './styles';\nimport Modal from '../Modal';\nimport Input from '../Input';\nimport { FormHandles } from '@unform/core';\n\ninterface AddFood {\n  image:string;\n  name:string;\n  price:string;\n  description:string;\n}\n\ninterface ModalAddFoodProps {\n  isOpen:boolean;\n  setIsOpen: () => void;\n  handleAddFood: (data: AddFood) => void\n}\n\n\nexport default function ModalAddFood({isOpen, setIsOpen, handleAddFood}:ModalAddFoodProps) {\n\n  const handleSubmit = async (data:AddFood) => {\n    handleAddFood(data);\n    setIsOpen();\n  };\n\n  const formRef = useRef<FormHandles>(null);\n\n  return (\n    <Modal isOpen={isOpen} setIsOpen={setIsOpen}>\n      <Form ref={formRef} onSubmit={handleSubmit}>\n        <h1>Novo Prato</h1>\n        <Input name=\"image\" placeholder=\"Cole o link aqui\" />\n\n        <Input name=\"name\" placeholder=\"Ex: Moda Italiana\" />\n        <Input name=\"price\" placeholder=\"Ex: 19.90\" />\n\n        <Input name=\"description\" placeholder=\"Descrição\" />\n        <button type=\"submit\" data-testid=\"add-food-button\">\n          <p className=\"text\">Adicionar Prato</p>\n          <div className=\"icon\">\n            <FiCheckSquare size={24} />\n          </div>\n        </button>\n      </Form>\n    </Modal>\n  );\n}\n\n","import styled from 'styled-components';\nimport { Form as Unform } from '@unform/web';\n\nexport const Form = styled(Unform)`\n  padding: 48px 40px;\n  display: flex;\n  flex-direction: column;\n\n  h1 {\n    font-weight: 600;\n    font-size: 36px;\n    line-height: 36px;\n    margin-bottom: 40px;\n  }\n\n  button {\n    margin-top: 48px;\n    align-self: flex-end;\n  }\n\n  button {\n    font-weight: 600;\n    border-radius: 8px;\n    border: 0;\n    background: #39b100;\n    color: #fff;\n\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n\n    .text {\n      padding: 16px 24px;\n    }\n\n    .icon {\n      display: flex;\n      padding: 16px 16px;\n      background: #41c900;\n      border-radius: 0 8px 8px 0;\n      margin: 0 auto;\n    }\n  }\n`;\n","import { useRef } from 'react';\nimport { FiCheckSquare } from 'react-icons/fi';\n\nimport { Form } from './styles';\nimport Modal from '../Modal';\nimport Input from '../Input';\nimport { FormHandles } from '@unform/core';\n\ninterface AddFood {\n  image:string;\n  name:string;\n  price:string;\n  description:string;\n}\n\ninterface IFood {\n  id:number;\n  name:string;\n  description:string;\n  price:string;\n  available:boolean;\n  image:string;\n}\n\ninterface ModalEditFoodProps {\n  isOpen:boolean;\n  setIsOpen: () => void;\n  handleUpdateFood: (data: AddFood) => void;\n  editingFood: IFood\n}\n\nexport default function ModalEditFood({isOpen, setIsOpen, handleUpdateFood, editingFood}:ModalEditFoodProps) {\n  const formRef = useRef<FormHandles>(null);\n\n  const handleSubmit = async (data: AddFood) => {\n    handleUpdateFood(data);\n    setIsOpen();\n  };\n\n  return (\n    <Modal isOpen={isOpen} setIsOpen={setIsOpen}>\n      <Form ref={formRef} onSubmit={handleSubmit} initialData={editingFood}>\n        <h1>Editar Prato</h1>\n        <Input name=\"image\" placeholder=\"Cole o link aqui\" />\n\n        <Input name=\"name\" placeholder=\"Ex: Moda Italiana\" />\n        <Input name=\"price\" placeholder=\"Ex: 19.90\" />\n\n        <Input name=\"description\" placeholder=\"Descrição\" />\n\n        <button type=\"submit\" data-testid=\"edit-food-button\">\n          <div className=\"text\">Editar Prato</div>\n          <div className=\"icon\">\n            <FiCheckSquare size={24} />\n          </div>\n        </button>\n      </Form>\n    </Modal>\n  );\n}\n\n","import styled from 'styled-components';\n\nexport const FoodsContainer = styled.div`\n  width: 100%;\n  max-width: 1280px;\n  margin: 0 auto;\n  padding: 40px 0;\n  margin-top: -140px;\n\n  display: grid;\n\n  grid-template-columns: repeat(3, 1fr);\n  grid-gap: 32px;\n`;\n","import { useEffect, useState } from 'react';\n\nimport Header from '../../components/Header';\nimport api from '../../services/api';\nimport Food from '../../components/Food';\nimport ModalAddFood from '../../components/ModalAddFood';\nimport ModalEditFood from '../../components/ModalEditFood';\nimport { FoodsContainer } from './styles';\n\ninterface IFood {\n  id:number;\n  name:string;\n  description:string;\n  price:string;\n  available:boolean;\n  image:string;\n}\n\ninterface AddFood {\n  image:string;\n  name:string;\n  price:string;\n  description:string;\n}\n\nexport default function Dashboard() {\n  const [foods, setFoods] = useState<IFood[]>([]);\n  const [editingFood, setEditingFood] = useState<IFood>({} as IFood);\n  const [modalOpen, setModalOpen] = useState(false);\n  const [editModalOpen, setEditModalOpen] = useState(false);\n\n  useEffect(() => {\n    async function getFoods() {\n      const response = await api.get('/foods');\n\n      setFoods(response.data);\n    }\n    getFoods()\n  }, [])\n\n  \n  async function handleAddFood(\n    food: Omit<IFood, 'id' | 'available'>,\n  ): Promise<void> {\n    try {\n      const response = await api.post('/foods', {\n        ...food,\n        available: true,\n      });\n\n      setFoods([...foods, response.data]);\n    } catch (err) {\n      console.log(err);\n    }\n  }\n\n  const handleUpdateFood = async (food: AddFood): Promise<void> => {\n    try {\n      const foodUpdated = await api.put(\n        `/foods/${editingFood.id}`,\n        { ...editingFood, ...food },\n      );\n\n      const foodsUpdated = foods.map(f =>\n        f.id !== foodUpdated.data.id ? f : foodUpdated.data,\n      );\n\n      setFoods(foodsUpdated);\n    } catch (err) {\n      console.log(err);\n    }\n  }\n\n  const handleDeleteFood = async (id:number) => {\n    await api.delete(`/foods/${id}`);\n\n    const foodsFiltered = foods.filter(food => food.id !== id);\n\n    setFoods(foodsFiltered);\n  }\n\n  const toggleModal = () => {\n    setModalOpen( !modalOpen );\n  }\n\n  const toggleEditModal = () => {\n    setEditModalOpen(!editModalOpen);\n  }\n\n  const handleEditFood = (food: IFood) => {\n    setEditModalOpen(true);\n    setEditingFood(food);\n  }\n\n  return (\n    <>\n      <Header openModal={toggleModal} />\n      <ModalAddFood\n        isOpen={modalOpen}\n        setIsOpen={toggleModal}\n        handleAddFood={handleAddFood}\n      />\n      <ModalEditFood\n        isOpen={editModalOpen}\n        setIsOpen={toggleEditModal}\n        editingFood={editingFood}\n        handleUpdateFood={handleUpdateFood}\n      />\n\n      <FoodsContainer data-testid=\"foods-list\">\n        {foods &&\n          foods.map(food => (\n            <Food\n              key={food.id}\n              food={food}\n              handleDelete={handleDeleteFood}\n              handleEditFood={handleEditFood}\n            />\n          ))}\n      </FoodsContainer>\n    </>\n  );\n\n}\n\n","import { Switch, Route } from 'react-router-dom';\n\nimport Dashboard from '../pages/Dashboard';\n\nconst Routes = () => (\n  <Switch>\n    <Route path=\"/\" exact component={Dashboard} />\n  </Switch>\n);\n\nexport default Routes;\n","import { createGlobalStyle } from 'styled-components';\n\nexport default createGlobalStyle`\n  * {\n    margin: 0;\n    padding: 0;\n    box-sizing: border-box;\n    outline: 0;\n  }\n\n  body {\n    background: #fff;\n    color: #FFF;\n    -webkit-font-smoothing: antialiased;\n  }\n\n  body, input, button {\n    font-family: 'Poppins', sans-serif;\n    font-size: 16px;\n  }\n\n  h1, h2, h3, h4, h5, h6, strong {\n    font-weight: 500;\n  }\n\n  button {\n    cursor: pointer;\n  }\n`;\n","import { BrowserRouter as Router } from 'react-router-dom';\n\nimport Routes from './routes';\n\nimport GlobalStyle from './styles/global';\n\nconst App = () => (\n  <>\n    <GlobalStyle />\n    <Router>\n      <Routes />\n    </Router>\n  </>\n);\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}